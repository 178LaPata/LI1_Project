<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa5</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa5</p></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>INTRODU&#199;&#195;O</h1><p>Nesta tarefa, tentamos calcular o caminho mais curto entre duas posi&#231;&#245;es num labirinto para 
devolver aos fantasmas a orienta&#231;&#227;o mais acertiva. Podemos considerar que, na nossa opini&#227;o, 
esta foi a tarefa mais dificil, sendo tamb&#233;m a que deu mais trabalho, devido ao c&#225;lculo do 
algoritimo de procura do melhor caminho.</p><h1>OBJETIVO</h1><p>O nosso principal objetivo foi conseguir encontrar um algoritmo que permitisse encontrar 
o melhor caminho at&#233; &#224;s coordenadas dos fantasmas. </p><h3>Primeira tentativa</h3><p>Come&#231;amos por tentar calcular o caminho 
mais curto experimentando todos os caminhos poss&#237;veis (1&#186; algoritmo na Algoritmo.hs).
Contudo, chegamos &#224; conclus&#227;o de que:</p><ul><li>Este met&#243;do s&#243; era eficiente para labirintos at&#233; 10x10, 
mas para dimens&#245;es maiores demorava demasiado tempo para calcular o caminho mais curto.</li></ul><h3>Segunda tentativa</h3><p>Para otimizar, experimentamos escrever numa matriz de n&#250;meros o 
comprimento do caminho percorrido at&#233; ao momento no respetivo arco do percurso.
Nesta variante calculamos o caminho recursivamente numa dire&#231;ao, depois devolvemos a 
matriz de comprimentos e davamos-la para as outras dire&#231;&#245;es (2&#186; algoritmo no Algoritmo.hs). 
Conluimos que, ao aplicar esta forma recursiva mais linearmente (para as 4 dire&#231;&#245;es) 
constata-se que:</p><ul><li>Que funciona muito r&#225;pido para labirintos de grandes dimens&#245;es (200x200),</li><li>D&#225; prioridade a alguma dire&#231;&#245;es,por vezes n&#227;o calcula o caminho mais curto.</li></ul><h3>Terceira variante: </h3><p>Conseguimos fazer um algoritmo que cumpre todos os requesitos. 
Este come&#231;a por marcar o destino como 0 depois marcamos os vizinhos do 0 com 1 
(de comprimento) se estes n&#227;o forem paredes e se n&#227;o tiverem j&#225; um valor inferior, 
depois marcamos os vizinhos de cada 1 com 2 e assim sucessivamente. No final de ambos 
os algoritmos, utilizamos uma fun&#231;&#227;o de descompacta&#231;&#227;o que dado uma matriz com os 
comprimentos calcula uma lista de orienta&#231;oes at&#233; chegar ao destino (fun&#231;&#227;o cmcfinal2). 
Para fins mais pr&#225;ticos usamos uma outra que nos devolve apenas a primeira orienta&#231;&#227;o
(necess&#225;ria para o movimento). </p><p>Para fugir, utilizamos um algoritmo rudimentar de fuga, 
sendo este o seguerido no enunciado.</p><h1>CONCLUS&#195;O</h1><p>Conseguimos calcular o caminho mais curto de forma bastante eficiente e r&#225;pida.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:inf">inf</a> :: Int</li><li class="src short"><a href="#v:cm">cm</a> :: Foldable t =&gt; [t a] -&gt; Int</li><li class="src short"><a href="#v:trocapeca">trocapeca</a> :: [[Int]] -&gt; (Int, Int) -&gt; Int -&gt; [[Int]]</li><li class="src short"><a href="#v:mudalab">mudalab</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [[Int]]</li><li class="src short"><a href="#v:caminhof2">caminhof2</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [[Int]]</li><li class="src short"><a href="#v:caminhoaux">caminhoaux</a> :: [[Int]] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [[Int]]</li><li class="src short"><a href="#v:f1">f1</a> :: [[Int]] -&gt; Int -&gt; [(Int, Int, Int)]</li><li class="src short"><a href="#v:vizinho">vizinho</a> :: [[Int]] -&gt; (Int, Int) -&gt; [(Int, (Int, Int))]</li><li class="src short"><a href="#v:sub">sub</a> :: [(Int, Int, Int)] -&gt; [[Int]] -&gt; [[Int]]</li><li class="src short"><a href="#v:cmcf">cmcf</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:cmc">cmc</a> :: (Int, Int) -&gt; [[Int]] -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:cmcfl">cmcfl</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:cmcl">cmcl</a> :: (Int, Int) -&gt; [[Int]] -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:chaseMode">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:ff2">ff2</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:pd">pd</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; (<a href="Types.html#t:Orientation" title="Types">Orientation</a>, (Int, Int))</li><li class="src short"><a href="#v:scatterMode">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:cmcfinal2">cmcfinal2</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Maybe [<a href="Types.html#t:Orientation" title="Types">Orientation</a>]</li><li class="src short"><a href="#v:cmc2">cmc2</a> :: Int -&gt; (Int, Int) -&gt; [[Int]] -&gt; [<a href="Types.html#t:Orientation" title="Types">Orientation</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:inf" class="def">inf</a> :: Int <a href="#v:inf" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cm" class="def">cm</a> :: Foldable t =&gt; [t a] -&gt; Int <a href="#v:cm" class="selflink">#</a></p><div class="doc"><p>Estimativa de comprimento m&#225;ximo</p></div></div><div class="top"><p class="src"><a id="v:trocapeca" class="def">trocapeca</a> :: [[Int]] -&gt; (Int, Int) -&gt; Int -&gt; [[Int]] <a href="#v:trocapeca" class="selflink">#</a></p><div class="doc"><p>Troca um n&#250;mero numa posi&#231;ao espec&#237;fica de uma matriz</p></div></div><div class="top"><p class="src"><a id="v:mudalab" class="def">mudalab</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; [[Int]] <a href="#v:mudalab" class="selflink">#</a></p><div class="doc"><p>Tranforma um labirinto de Pieces numa matriz com n&#250;meros inteiros</p></div></div><div class="top"><p class="src"><a id="v:caminhof2" class="def">caminhof2</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [[Int]] <a href="#v:caminhof2" class="selflink">#</a></p><div class="doc"><p>Calcula uma matriz com a distancia at&#233; ao destino em cada posi&#231;&#227;o </p></div></div><div class="top"><p class="src"><a id="v:caminhoaux" class="def">caminhoaux</a> :: [[Int]] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [[Int]] <a href="#v:caminhoaux" class="selflink">#</a></p><div class="doc"><p>Auxiliar da caimnhof2</p></div></div><div class="top"><p class="src"><a id="v:f1" class="def">f1</a> :: [[Int]] -&gt; Int -&gt; [(Int, Int, Int)] <a href="#v:f1" class="selflink">#</a></p><div class="doc"><p>Calcula os vizinhos de n filtrados, por substituir</p></div></div><div class="top"><p class="src"><a id="v:vizinho" class="def">vizinho</a> :: [[Int]] -&gt; (Int, Int) -&gt; [(Int, (Int, Int))] <a href="#v:vizinho" class="selflink">#</a></p><div class="doc"><p>Calcula um par com os vizinhos e as suas coordenadas</p></div></div><div class="top"><p class="src"><a id="v:sub" class="def">sub</a> :: [(Int, Int, Int)] -&gt; [[Int]] -&gt; [[Int]] <a href="#v:sub" class="selflink">#</a></p><div class="doc"><p>Substitui num Labirinto determinadao valor </p></div></div><div class="top"><p class="src"><a id="v:cmcf" class="def">cmcf</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:cmcf" class="selflink">#</a></p><div class="doc"><p>Calcula o primeiro passo para o caminho mais curto</p></div></div><div class="top"><p class="src"><a id="v:cmc" class="def">cmc</a> :: (Int, Int) -&gt; [[Int]] -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:cmc" class="selflink">#</a></p><div class="doc"><p>Auxuliar da cmcf</p></div></div><div class="top"><p class="src"><a id="v:cmcfl" class="def">cmcfl</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:cmcfl" class="selflink">#</a></p><div class="doc"><p>Calcula o primeiro passo para o caminho mais longo</p></div></div><div class="top"><p class="src"><a id="v:cmcl" class="def">cmcl</a> :: (Int, Int) -&gt; [[Int]] -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:cmcl" class="selflink">#</a></p><div class="doc"><p>Auxiliar cmcfl</p></div></div><div class="top"><p class="src"><a id="v:chaseMode" class="def">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:chaseMode" class="selflink">#</a></p><div class="doc"><p>Calcula uma fun&#231;&#227;o dependendo do estado de um fantasma</p></div></div><div class="top"><p class="src"><a id="v:ff2" class="def">ff2</a> :: Int -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:ff2" class="selflink">#</a></p><div class="doc"><p>Filtra fantasma por id</p></div></div><div class="top"><p class="src"><a id="v:pd" class="def">pd</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; (<a href="Types.html#t:Orientation" title="Types">Orientation</a>, (Int, Int)) <a href="#v:pd" class="selflink">#</a></p><div class="doc"><p>Calcula orientacao,vetor rodados para a direita</p></div></div><div class="top"><p class="src"><a id="v:scatterMode" class="def">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:scatterMode" class="selflink">#</a></p><div class="doc"><p>Calcula uma jogada para um fantasma em modo Dead</p></div></div><div class="top"><p class="src"><a id="v:cmcfinal2" class="def">cmcfinal2</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; Maybe [<a href="Types.html#t:Orientation" title="Types">Orientation</a>] <a href="#v:cmcfinal2" class="selflink">#</a></p><div class="doc"><p>Calcula uma lista de orienta&#231;&#245;es de ditam o caminho mais curto</p></div></div><div class="top"><p class="src"><a id="v:cmc2" class="def">cmc2</a> :: Int -&gt; (Int, Int) -&gt; [[Int]] -&gt; [<a href="Types.html#t:Orientation" title="Types">Orientation</a>] <a href="#v:cmc2" class="selflink">#</a></p><div class="doc"><p>Auxiliar cmcfinal2</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>